<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>DataViz Makeover: DataViz Makeover 2 - Merchandise trade</title>

<meta property="description" itemprop="description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-10"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-10"/>
<meta name="article:author" content="Jovinka Hartanto"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="DataViz Makeover: DataViz Makeover 2 - Merchandise trade"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="DataViz Makeover"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="DataViz Makeover: DataViz Makeover 2 - Merchandise trade"/>
<meta property="twitter:description" content="DataViz Makeover 2 for ISSS608: Visual Analytics"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 2 - Merchandise trade"]},{"type":"character","attributes":{},"value":["DataViz Makeover 2 for ISSS608: Visual Analytics"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Jovinka Hartanto"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/jovinkahartanto/"]}]}]},{"type":"character","attributes":{},"value":["06-10-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/popper-2.6.0/popper.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js","img/ani1.PNG","img/ani2.PNG","img/att1.PNG","img/att2.PNG","img/att3.PNG","img/att4.PNG","img/att5.PNG","img/att6.PNG","img/db1.PNG","img/db2.PNG","img/db3.PNG","img/db4.PNG","img/db5.PNG","img/import_data_tableau.png","img/import_data_tableau10.PNG","img/import_data_tableau11.PNG","img/import_data_tableau12.PNG","img/import_data_tableau13.PNG","img/import_data_tableau14.PNG","img/import_data_tableau15.PNG","img/import_data_tableau16.PNG","img/import_data_tableau17.PNG","img/import_data_tableau18.PNG","img/import_data_tableau19.PNG","img/import_data_tableau2.png","img/import_data_tableau20.PNG","img/import_data_tableau21.PNG","img/import_data_tableau22.PNG","img/import_data_tableau23.PNG","img/import_data_tableau3.PNG","img/import_data_tableau4.PNG","img/import_data_tableau5.PNG","img/import_data_tableau6.PNG","img/import_data_tableau7.PNG","img/import_data_tableau8.PNG","img/import_data_tableau9.PNG","img/obs1.PNG","img/obs2.PNG","img/obs3.PNG","img/obs4.PNG","img/obs5.PNG","img/obs6.PNG","img/obs7.PNG","img/original.PNG","img/prop1.png","img/top1.PNG","img/top10.PNG","img/top11.PNG","img/top12.PNG","img/top13.PNG","img/top14.PNG","img/top15.PNG","img/top16.PNG","img/top17.PNG","img/top18.PNG","img/top19.PNG","img/top2.PNG","img/top20.PNG","img/top21.PNG","img/top3.PNG","img/top4.PNG","img/top5.PNG","img/top6.PNG","img/top7.PNG","img/top8.PNG","img/top9.PNG","img/tt1.PNG","img/tt2.PNG","img/tt3.PNG","img/tt4.PNG","img/tt5.PNG","img/tt6.PNG","img/tt7.PNG","img/tt8.PNG"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 2 - Merchandise trade","description":"DataViz Makeover 2 for ISSS608: Visual Analytics","authors":[{"author":"Jovinka Hartanto","authorURL":"https://www.linkedin.com/in/jovinkahartanto/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-06-10T00:00:00.000+08:00","citationText":"Hartanto, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">DataViz Makeover</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 2 - Merchandise trade</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>DataViz Makeover 2 for ISSS608: Visual Analytics</p></p>
</div>

<div class="d-byline">
  Jovinka Hartanto <a href="https://www.linkedin.com/in/jovinkahartanto/" class="uri">https://www.linkedin.com/in/jovinkahartanto/</a> 
  
<br/>06-10-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#critique-of-visualisation">2. Critique of Visualisation</a><ul>
<li><a href="#clarity">2.1 Clarity</a></li>
<li><a href="#aesthetics">2.2 Aesthetics</a></li>
</ul></li>
<li><a href="#alternative-design">3. Alternative Design</a></li>
<li><a href="#clarity-1">Clarity:</a></li>
<li><a href="#aesthetics-1">Aesthetics:</a></li>
<li><a href="#step-by-step-guide">4. Step-by-Step Guide</a><ul>
<li><a href="#data-preparation">4.1 Data Preparation</a></li>
<li><a href="#top-10-trading-partners">4.2 Top 10 Trading Partners</a></li>
<li><a href="#import-export-trend">4.3 Import Export Trend</a></li>
<li><a href="#adding-line-graph-as-a-tooltip-for-scatter-plot">4.4 Adding line graph as a tooltip for scatter plot</a></li>
<li><a href="#animations">4.5 Animations</a></li>
<li><a href="#dashboard">4.6 Dashboard</a></li>
</ul></li>
<li><a href="#major-obeservations">5.0 Major Obeservations</a></li>
</ul>
</nav>
</div>
<h1 id="introduction">1. Introduction</h1>
<p>Nowadays, data visualisation such as graphs and maps can be found anywhere. Data visualisation can help us to understand better what the information means and it will also make it easier to understand the trends, patterns, and outliers within large datasets. However, a poor data visualisation can be misleading or make it even harder to understand the information.</p>
<p>This post will makeover the chart below, so that it can be more fruitful for the audience. The data visualisation will be created by using data provided by Department of Statistics, Singapore (DOS). The data are available under the sub-section of <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">Merchandise Trade by Region/Market</a>.</p>
<p><img src="img/original.PNG" alt="Figure 1" /> Source: <a href="https://www.singstat.gov.sg/modules/infographics/singapore-international-trade">Department of Statistics, Singapore</a></p>
<h1 id="critique-of-visualisation">2. Critique of Visualisation</h1>
<p>To explore different perspective and design more truthful and enlightening data visualisation, we will first observe the original visualisation. The critiques will be divided into two section, clarity and aesthetics.</p>
<h2 id="clarity">2.1 Clarity</h2>
<ol type="1">
<li><strong>The label is not clear</strong>, it only shows country or trading partner name and number without explaining what is the number stands for, it can caused misinterpretation.</li>
<li><strong>There is no gridlines</strong> in the chart to help the audience compare the import and export values, the non existence of gridline also make the data point is harder to read<br />
</li>
<li><strong>There is not enough annotation or tooltip</strong> that can show the audience the import and export value</li>
<li><strong>There is no clear explanation on how to determine the top net exporter and top net importer</strong></li>
</ol>
<h2 id="aesthetics">2.2 Aesthetics</h2>
<ol type="1">
<li><strong>The opacity of the chart can be reduced</strong>, since some of the plots overlap each other and it is hard to see if the centre point (white circle) of the bubbles falls in blue or green region</li>
<li><strong>A similar color is used to represent two different trading partners, Thailand and EU</strong></li>
<li><strong>Using an acronym for European Union (EU) make the naming of the trading partners inconsistent</strong>, since the rest of the trading partners was written in the long form</li>
</ol>
<h1 id="alternative-design">3. Alternative Design</h1>
<p>The alternative graphical design proposed can be seen below:</p>
<figure>
<img src="img/prop1.png" alt="" /><figcaption>Figure 2</figcaption>
</figure>
<h1 id="clarity-1">Clarity:</h1>
<ol type="1">
<li>All the trading partners will be written in the long form</li>
<li>Added more information for each plot, which are total import, total export, total import and export, and lastly countrys monthly trend trading data for the selected year</li>
<li>Added gridlines to make the data point easier to read</li>
</ol>
<h1 id="aesthetics-1">Aesthetics:</h1>
<ol type="1">
<li>The opacity and the size of the scatter plot has been reduced, therefore all the plots can be seen, even though some of they are overlapped</li>
<li>Give a different colour for trading partners with value of exports exceeds imports and trading partners with sum of imports exceeds exports, therefore it will be easier to see which countries falls into which group rather than relying on the centre point of the plot like in the original visualisation</li>
<li>All the naming of trading partners are consistent, there is no acronym in the label of the plots</li>
</ol>
<h1 id="step-by-step-guide">4. Step-by-Step Guide</h1>
<h2 id="data-preparation">4.1 Data Preparation</h2>
<ol type="1">
<li><p>Copy the table from the raw dataset and paste it into the first row of the new created worksheet by using excel workbook.</p></li>
<li><p>Remove the data that is outside the study period. The study period for this study is between January 2011 to December 2020 for both import and export data. Clean import and export data are stored in the same file, but two different worksheets.</p></li>
<li><p>Import clean dataset into tableau. There are few ways to import the dataset, two of them are:</p></li>
</ol>
<ul>
<li>Click <strong>Microsoft Excel</strong> and select your file or</li>
</ul>
<figure>
<img src="img/import_data_tableau.png" alt="" /><figcaption>Figure 3</figcaption>
</figure>
<ul>
<li>Drag the desired data file to tableau data source</li>
</ul>
<figure>
<img src="img/import_data_tableau2.png" alt="" /><figcaption>Figure 4</figcaption>
</figure>
<p>4.Drag new union to workspace</p>
<figure>
<img src="img/import_data_tableau3.PNG" alt="" /><figcaption>Figure 5</figcaption>
</figure>
<ol start="5" type="1">
<li>A union window will pop out, drag both import and export clean data to union window -&gt; <strong>ok</strong></li>
</ol>
<figure>
<img src="img/import_data_tableau4.PNG" alt="" /><figcaption>Figure 6</figcaption>
</figure>
<ol start="6" type="1">
<li>To change the monthly data to columnar format, select the import and export data from 2011 Jan to 2020 Dec by clicking 2011 Jan data -&gt; Press <strong>Shift</strong> and click 2020 Dec data. If you did it correctly, all the selected columns will turn blue.</li>
</ol>
<figure>
<img src="img/import_data_tableau5.PNG" alt="" /><figcaption>Figure 7</figcaption>
</figure>
<ol start="7" type="1">
<li>Click the small arrow in 2020 Dec column -&gt; <strong>Pivot</strong></li>
</ol>
<p><img src="img/import_data_tableau6.PNG" alt="Figure 8" /> 8. The result of the pivot is as shown below</p>
<figure>
<img src="img/import_data_tableau7.PNG" alt="" /><figcaption>Figure 9</figcaption>
</figure>
<ol start="9" type="1">
<li><p>Double click on the column name to rename it</p></li>
<li><p>Since the date data type is marked as string, change the data type to Date by clicking <strong>abc</strong> in the columns top left -&gt; <strong>Date</strong>. Change <strong>Pivot Field Values</strong> data type to <strong>number</strong> instead of <strong>string</strong></p></li>
</ol>
<figure>
<img src="img/import_data_tableau8.PNG" alt="" /><figcaption>Figure 10</figcaption>
</figure>
<ol start="11" type="1">
<li>Since the variables consist of to components, trading partners and unit, we will split variables into two separate columns by clicking the small arrow in the column name -&gt; Split</li>
</ol>
<figure>
<img src="img/import_data_tableau9.PNG" alt="" /><figcaption>Figure 11</figcaption>
</figure>
<ol start="12" type="1">
<li>The Variables column will be split into 2 columns, <strong>Variables - split 1</strong> and <strong>Variables - split 1</strong></li>
</ol>
<figure>
<img src="img/import_data_tableau10.PNG" alt="" /><figcaption>Figure 12</figcaption>
</figure>
<p>Rename it into <strong>Trading Partner<em>s</em> and </strong>Unit** by double clicking the column names and type the desired column name.</p>
<ol start="13" type="1">
<li>Hide the original Variables column since we do not need it anymore</li>
</ol>
<figure>
<img src="img/import_data_tableau11.PNG" alt="" /><figcaption>Figure 13</figcaption>
</figure>
<ol start="14" type="1">
<li>Do quality assurance (QA) to check any data discrepancies, especially for the split columns by dragging unit to the row pane in workspace canvas</li>
</ol>
<figure>
<img src="img/import_data_tableau12.PNG" alt="" /><figcaption>Figure 14</figcaption>
</figure>
<ol start="15" type="1">
<li>Unit supposed to be either <strong>Million</strong> or <strong>Thousand</strong>, however it can be seen from the table below that there are other components that is not suppose to be in unit.</li>
</ol>
<figure>
<img src="img/import_data_tableau13.PNG" alt="" /><figcaption>Figure 15</figcaption>
</figure>
<ol start="16" type="1">
<li>We can observe further by dragging <strong>Trading Partners</strong> into row shelves and <strong>Unit</strong> into filter -&gt; untick <strong>Million</strong> and <strong>Thousand</strong> to see the which countries are these units belong to</li>
</ol>
<figure>
<img src="img/import_data_tableau14.PNG" alt="" /><figcaption>Figure 16</figcaption>
</figure>
<figure>
<img src="img/import_data_tableau15.PNG" alt="" /><figcaption>Figure 17</figcaption>
</figure>
<figure>
<img src="img/import_data_tableau16.PNG" alt="" /><figcaption>Figure 18</figcaption>
</figure>
<ol start="17" type="1">
<li>Create another column or variable called Trading_Partners_Cleaned to store the modified partners name by using calculated field</li>
</ol>
<figure>
<img src="img/import_data_tableau17.PNG" alt="" /><figcaption>Figure 19</figcaption>
</figure>
<figure>
<img src="img/import_data_tableau18.PNG" alt="" /><figcaption>Figure 20</figcaption>
</figure>
<ol start="18" type="1">
<li>Create another calculated field called <strong>Unit_Cleaned</strong>, the formula is as follow</li>
</ol>
<figure>
<img src="img/import_data_tableau19.PNG" alt="" /><figcaption>Figure 21</figcaption>
</figure>
<ol start="19" type="1">
<li>Separate the merchandise trade values into Export and Import variable by using calculated field and since merchandise trade values are in either Million or Thousand dollars, the value will be multiplied by 1,000 or 1,000,000 based on the unit. The formula for export and import value are as follow:</li>
</ol>
<figure>
<img src="img/import_data_tableau20.PNG" alt="" /><figcaption>Figure 22</figcaption>
</figure>
<figure>
<img src="img/import_data_tableau21.PNG" alt="" /><figcaption>Figure 23</figcaption>
</figure>
<ol start="20" type="1">
<li>It was observed that the trading partners are not only countries, it also consist of continents and total export and import. Since the focus in this study is to compare merchandise trade data between countries and union, we will create a calculated field that is only consist of countries and union.</li>
</ol>
<p><img src="img/import_data_tableau22.PNG" alt="Figure 24" /> 21. Create another calculated field as <em>Total Export &amp; Import</em></p>
<figure>
<img src="img/import_data_tableau23.PNG" alt="" /><figcaption>Figure 25</figcaption>
</figure>
<p>Now the data preparation is done, merchandise trade data is ready to be used for the analysis.</p>
<h2 id="top-10-trading-partners">4.2 Top 10 Trading Partners</h2>
<ol type="1">
<li>In a clean worksheet:</li>
</ol>
<ul>
<li>Drag <strong>Export</strong> to columns shelves,<strong>Import</strong> to rows shelves, <strong>Country</strong> to detail in marks shelves to create the scatter plot</li>
<li>Drag <strong>Country</strong> to Text, to show Country Name in the plot</li>
<li>Drag <strong>Total Export &amp; Import</strong> to tooltip, to give more information for each plot</li>
</ul>
<figure>
<img src="img/top1.PNG" alt="" /><figcaption>Figure 26</figcaption>
</figure>
<p>2.Drag <strong>Country</strong> to filters shelves <img src="img/top2.PNG" alt="Figure 27" /></p>
<ol start="3" type="1">
<li>Change the filter[Country] setting</li>
</ol>
<ul>
<li>General-&gt; Untick null</li>
</ul>
<figure>
<img src="img/top3.PNG" alt="" /><figcaption>Figure 28</figcaption>
</figure>
<ul>
<li>Top -&gt; By Field -&gt; Change <strong>Country</strong> to <strong>Total Export &amp; Import</strong> -&gt; Apply -&gt; Ok</li>
</ul>
<figure>
<img src="img/top4.PNG" alt="" /><figcaption>Figure 29</figcaption>
</figure>
<ol start="4" type="1">
<li>Drag <strong>Date</strong> to filters shelves -&gt; Double click on <strong># Years</strong></li>
</ol>
<figure>
<img src="img/top5.PNG" alt="" /><figcaption>Figure 30</figcaption>
</figure>
<p>Click All -&gt; Apply -&gt; Ok</p>
<figure>
<img src="img/top6.PNG" alt="" /><figcaption>Figure 31</figcaption>
</figure>
<ol start="5" type="1">
<li>Show both Country and Year(Date) filter by clicking the small white arrow -&gt; Show Filter</li>
</ol>
<figure>
<img src="img/top7.PNG" alt="" /><figcaption>Figure 32</figcaption>
</figure>
<ol start="6" type="1">
<li>The selection default of this Filter[Country] is <strong>Multiple Values (list)</strong></li>
</ol>
<figure>
<img src="img/top8.PNG" alt="" /><figcaption>Figure 33</figcaption>
</figure>
<p>But, it will look better if we change it to <strong>Multiple Values (dropdown)</strong> . Click small black arrow in the selection beside the text <strong>Country</strong> -&gt; Multiple Values (dropdown)</p>
<figure>
<img src="img/top9.PNG" alt="" /><figcaption>Figure 34</figcaption>
</figure>
<ol start="7" type="1">
<li><p>Repeat steps 5 and 6 for Filter[Year of Date], but instead of choosing Multiple Values (dropdown), choose Single Value (dropdown)</p></li>
<li><p>Remove <strong>(All)</strong> from year selection. Click small black arrow beside the text <strong>Year(Date)</strong> -&gt; Customize -&gt; Show All Value</p></li>
</ol>
<figure>
<img src="img/top10.PNG" alt="" /><figcaption>Figure 35</figcaption>
</figure>
<ol start="9" type="1">
<li><p>To change the chart title, double click on the title and change the title. However, in this case we want to insert YEAR(Date) selection variable to the title, the steps to add the selection variable are as follow:</p></li>
<li><p>Remove <strong><Sheet Name></strong>, and type the text</p></li>
<li><p>Click <strong>Insert</strong> -&gt; YEAR(Date)</p></li>
</ol>
<p><img src="img/top11.PNG" alt="Figure 36" /> 10. Change the plot from <strong>Automatic</strong> -&gt; <strong>Circle</strong></p>
<p><img src="img/top12.PNG" alt="Figure 37" /> 11. Adjust the size, by selecting the icon below</p>
<figure>
<img src="img/top13.PNG" alt="" /><figcaption>Figure 38</figcaption>
</figure>
<ol start="12" type="1">
<li>For visualization purposes, we will create a new boolean calculated field to separate the plot into two groups with two different colour. The first group is if sum of Import data higher than sum of Export data for the selected year. The second group is their sum of Export data higher than sum of Import data.</li>
</ol>
<p>The calculated field formula is as follow:</p>
<p><img src="img/top14.PNG" alt="Figure 39" /> 13. Drag <strong>import&gt;export</strong> variable to colour, and now we can see two different groups. Orange plots are those countries with sum of import higher than export for the selected year, year 2019 was selected for the example below</p>
<p><img src="img/top15.PNG" alt="Figure 40" /> 14. Adjust the color by clicking colour in marks shelves.</p>
<figure>
<img src="img/top16.PNG" alt="" /><figcaption>Figure 41</figcaption>
</figure>
<p>15.By default, all filters that are set in Tableau are computed independently. That is, each filter accesses all rows in the data source without regard to other filters.However in this case we need to filter the data by selected year and and pass the filtered data to select the top 10 total merchandise trade data. The steps are as follow:</p>
<ol type="1">
<li>Click the small white arrow in YEAR(Date) filter</li>
</ol>
<figure>
<img src="img/top17.PNG" alt="" /><figcaption>Figure 42</figcaption>
</figure>
<ol start="2" type="1">
<li>Click <strong>Add to Context</strong></li>
</ol>
<figure>
<img src="img/top18.PNG" alt="" /><figcaption>Figure 43</figcaption>
</figure>
<ol start="16" type="1">
<li>Adjust the opacity by clicking colour icon -&gt; change the opacity percentage</li>
</ol>
<p><img src="img/top19.PNG" alt="Figure 44" /> 17. Drag <strong>Total Export &amp; Import</strong> to size, the bigger the size of the scatter plot, the higher the sum of total import &amp; export for that country for the selected year. Adjust the circle size by clicking <strong>Size</strong> icon</p>
<p><img src="img/top20.PNG" alt="Figure 45" /> 18. Adjust the label font and alignment by clicking <strong>Label</strong> icon.</p>
<p><img src="img/top21.PNG" alt="Figure 46" /> 19. Create 45 degree line to show net importers and net exporters. The steps to create the 45 degree line, are as follow:</p>
<ol type="1">
<li>Drag <strong>Import</strong> to columns shelf -&gt; Click the small arrow -&gt; <strong>Dual Axis</strong></li>
<li>Click <strong>Sum(Import)</strong> in the columns shelf and edit the components under marks shelf</li>
<li>Remove <strong>Country</strong> (Text - SUM(Import)) and <strong>AGG(Total Export and Import)</strong> (Size and Tooltip - SUM(Import)) from Marks shelf</li>
<li>Change the size to the smallest</li>
<li>Click <strong>Color</strong> in SUM(Import) -&gt; change the opacity to 0%</li>
<li>Right click on the graph -&gt; <strong>Trend Lines</strong> -&gt; <strong>Show Trend Lines</strong> -&gt; <strong>SUM(Import)</strong></li>
<li>Change the axis range to <strong>Fixed</strong> -&gt; change <strong>Fixed start</strong> and <strong>Fixed end</strong></li>
<li>Make sure all axis have same range</li>
<li>Change the format of the 45 degree line by double clicking the line -&gt; <strong>Format</strong></li>
<li>Change the format of the trend line to dotted line</li>
</ol>
<h2 id="import-export-trend">4.3 Import Export Trend</h2>
<p>This line chart is created to show the monthly import export trend for the selected year and selected country. The chart will be inserted in the <strong>Top 10 Trading Partners</strong> plots tooltip.</p>
<ol type="1">
<li>Create a new worksheet by clicking the icon below</li>
</ol>
<p><img src="img/tt1.PNG" alt="Figure 47" /> 2. Drag <strong>Country</strong> and <strong>Date</strong> variable to columns shelves, <strong>Import</strong> and <strong>Export</strong> to rows shelves</p>
<p><img src="img/tt2.PNG" alt="Figure 48" /> 3. Click the small arrow in <strong>YEAR(Date)</strong> variable in columns pane -&gt; Select month</p>
<figure>
<img src="img/tt3.PNG" alt="" /><figcaption>Figure 49</figcaption>
</figure>
<figure>
<img src="img/tt4.PNG" alt="" /><figcaption>Figure 50</figcaption>
</figure>
<ol start="4" type="1">
<li>We will use dual lines graph for this chart.</li>
</ol>
<figure>
<img src="img/tt5.PNG" alt="" /><figcaption>Figure 51</figcaption>
</figure>
<p>Once you click dual lines graph, country variable will move to rows shelves, drag country back to columns shelves.</p>
<ol start="5" type="1">
<li>To make the colour of the axis title match with the color of the chart, right click on the axis -&gt; Format</li>
</ol>
<figure>
<img src="img/tt6.PNG" alt="" /><figcaption>Figure 52</figcaption>
</figure>
<ol start="6" type="1">
<li>Click the small arrow beside <strong>Font</strong> -&gt; Choose the colour</li>
</ol>
<figure>
<img src="img/tt7.PNG" alt="" /><figcaption>Figure 53</figcaption>
</figure>
<ol start="7" type="1">
<li><p>Repeat step 5 and 6 for export axis</p></li>
<li><p>Double click on the sheet name to rename it</p></li>
</ol>
<p><img src="img/tt8.PNG" alt="Figure 54" /> 9. Edit the alignment and format of the x-axis label by right clicking the x-axis -&gt; Format</p>
<p>Change the <strong>Alignment</strong> to up -&gt; Change the label format <strong>MMM-YY</strong></p>
<h2 id="adding-line-graph-as-a-tooltip-for-scatter-plot">4.4 Adding line graph as a tooltip for scatter plot</h2>
<ol type="1">
<li>Click the tooltip icon on scatter plot</li>
</ol>
<p>2.To insert the other chart to the tooltip, click <strong>Insert</strong> in Edit Tooltip window -&gt; Sheets -&gt; Select the chart that wanted to be added to the tooltip</p>
<p><img src="img/att1.PNG" alt="Figure 55" /> 3. Adjust maxwidth and mexheight according to the size of the inserted chart. In this case we will use 700 for maxwidth and 300 for maxheight</p>
<figure>
<img src="img/att2.PNG" alt="" /><figcaption>Figure 56</figcaption>
</figure>
<ol start="4" type="1">
<li>Drag <strong>Date</strong> into detail to make the chart in the tooltip become monthly trend for the selected year instead of yearly trend</li>
</ol>
<figure>
<img src="img/att3.PNG" alt="" /><figcaption>Figure 57</figcaption>
</figure>
<ol start="5" type="1">
<li>The tooltip will look like the figure below when we hover the mouse over the plot.</li>
</ol>
<figure>
<img src="img/att4.PNG" alt="" /><figcaption>Figure 58</figcaption>
</figure>
<ol start="6" type="1">
<li>Create a new calculation field for tooltip</li>
</ol>
<figure>
<img src="img/att5.PNG" alt="" /><figcaption>Figure 59</figcaption>
</figure>
<ol start="7" type="1">
<li>Edit the tooltip by clicking tooltip in under <strong>All</strong> Marks shelves, edit the tooltip as per below</li>
</ol>
<figure>
<img src="img/att6.PNG" alt="" /><figcaption>Figure 60</figcaption>
</figure>
<h2 id="animations">4.5 Animations</h2>
<p>Turn on the animation by selecting <strong>Format</strong> -&gt; <strong>Animation</strong></p>
<p><img src="img/ani1.PNG" alt="Figure 61" /> The settings for animation is as follows</p>
<figure>
<img src="img/ani2.PNG" alt="" /><figcaption>Figure 62</figcaption>
</figure>
<h2 id="dashboard">4.6 Dashboard</h2>
<ol type="1">
<li>Create a new dashboard</li>
</ol>
<figure>
<img src="img/db1.PNG" alt="" /><figcaption>Figure 63</figcaption>
</figure>
<ol start="2" type="1">
<li>Drag the <strong>Top 10</strong> chart to the dashboard</li>
</ol>
<figure>
<img src="img/db2.PNG" alt="" /><figcaption>Figure 64</figcaption>
</figure>
<ol start="3" type="1">
<li>Change the dashboard size to <strong>Automatic</strong></li>
</ol>
<figure>
<img src="img/db3.PNG" alt="" /><figcaption>Figure 65</figcaption>
</figure>
<ol start="4" type="1">
<li>Any objects can be added to the dashboard, in this case we want to edit text to the blank space by dragging <strong>Text</strong> to the blank space below the year selection</li>
</ol>
<figure>
<img src="img/db4.PNG" alt="" /><figcaption>Figure 66</figcaption>
</figure>
<ol start="5" type="1">
<li>Once we drag the <strong>Text</strong>, <strong>Edit Text</strong> panel will instantly pop up, edit the text as per below</li>
</ol>
<figure>
<img src="img/db5.PNG" alt="" /><figcaption>Figure 67</figcaption>
</figure>
<ol start="6" type="1">
<li>Add another text on top of the year selection, to add <strong>Select Year and Countries</strong> text</li>
<li>The final dashboard is ready, dashboard has been published to <a href="https://public.tableau.com/app/profile/jovinka.hartanto3850/viz/datavizmakeover2-Final/Dashboard1">Tableau Public</a></li>
</ol>
<h1 id="major-obeservations">5.0 Major Obeservations</h1>
<ol type="1">
<li><strong>In 2011 India was one of the top 10 Singapores merchandise trading partner, however in 2012 the position was replaced by Thailand. India is never come back to the top 10 position until 2020.</strong></li>
</ol>
<p><img src="img/obs1.PNG" alt="Figure 68" /> <img src="img/obs2.PNG" alt="Figure 69" /></p>
<p>The top 10 merchandise trading partners are remain the same for the past 8 years, from 2012 to 2020. The top 10 trading partners are:</p>
<ul>
<li>Mainland China</li>
<li>Malaysia</li>
<li>Indonesia</li>
<li>Hongkong</li>
<li>Taiwan</li>
<li>Japan</li>
<li>United States</li>
<li>Republic of Korea</li>
<li>European Union</li>
<li>Thailand</li>
</ul>
<ol start="2" type="1">
<li><strong>Since 2011 up till 2020, Malaysia and China is always the top 2 of Singapores trading partners and in the year of 2015 Chinas total number of import and export increased from 2014, when most of the countries number are decreasing from 2014 to 2015.</strong></li>
</ol>
<p>It can be observed from the figure below that Malaysia and Indonesia total merchandise trade number decreased significantly from 2014 to 2015. Some of the other countries trade numbers also decreasing, even though it is not very significant.</p>
<figure>
<img src="img/obs3.PNG" alt="" /><figcaption>Figure 70</figcaption>
</figure>
<ol start="3" type="1">
<li><strong>Indonesia and United States are two countries that have a significant changes between the year of 2011 and the year of 2019.</strong></li>
</ol>
<p>The trend of Indonesias total export and Import was going down over the years (2011 - 2019), on the other hand United States trend was going up over the year. The year of 2020 was not taken into consideration since Covid-19 pandemic is getting worse in that year and it affected the merchandise trade between countries.</p>
<ul>
<li>Indonesia</li>
</ul>
<p><img src="img/obs4.PNG" alt="Figure 71" /> <img src="img/obs5.PNG" alt="Figure 72" /></p>
<ul>
<li>United States</li>
</ul>
<p><img src="img/obs6.PNG" alt="Figure 73" /> <img src="img/obs7.PNG" alt="Figure 74" /></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
