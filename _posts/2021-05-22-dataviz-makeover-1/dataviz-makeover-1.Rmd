---
title: "DataViz Makeover 1 - Merchandise trade"
description: |
  DataViz Makeover 1 for ISSS608: Visual Analytics
author:
  - name: Jovinka Hartanto
    url: https://www.linkedin.com/in/jovinkahartanto/
date: 05-22-2021
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# 1. Introduction

# 2. Critique of Visualisation 
To explore different perspective and design more truthful and enlightening data visualisation, we will first observe the original visualisation of the data (Figure 1). The critiques will be divided into two section, clarity and aesthetics.

![**Figure 1**](img/original.png)

## 2.1 Clarity
1. **The title of the graph does not match the visualisation.** The title leads us to expect that the graph will be showing merchandise trade data for period 2019 to 2020, meanwhile the x-axis label for Japan only shows year of 2020 and the period for the rest of the graph starts from 2019 and ends in 2021.
2. **The period of the data used is inconsistent.** According to the graph, it seems like it covers merchandise trade data from 2019 to 2021 for Hong Kong, Mainland China, Taiwan, US, and Malaysia. However, we can observe that for Japan, it only covers merchandise trade data in 2020.
3. **The title of X axis is confusing.** The axis title clearly mentions "Month of Period", but the x-axis label display years instead of months. 
4. There is no lead-in or call-outs to provide context

## 2.2 Aesthetics
1. **It is difficult to see some data points in the chart**.The graph will be easier to understand if line graph were used.The area graph make some data points harder to read, since some of the data points are overlapped between import and export.
2. **There is no tick marks for both axis** even though this graph is a continuous scale. The non existence of the graph make it harder to read the graph.
3. **The choices of colors can be improved**. More contrast colors might able to make the graph easier to read. 
4. **The title does not align with the graphs**. The placing of the title is not in the center nor left-aligned. 

# 3. Alternative Design

The alternative graphical design proposed can be seen below:

![](img/graph_proposal.png) 

The proposed design above will improve the original visualisation in terms of:

# Clarity:

# Aesthetics:

Additionally the proposed design will give an overview of the comparison of export and import data between the top six countries and it will also shows which country has higher import than export and vice versa.

# 4. Step-by-Step Guide

1.	Clean the raw data by selecting all countries’ merchandise trade data for the year 2019 to 2020. Copy the table from the raw dataset and paste it into the first row of the new created worksheet by using excel workbook. Clean import and export data are stored in two different worksheets.

import data:

![**Figure 2**](img/imp_cl_1.png) 
Export data:

![**Figure 3**](img/exp_cl_1.png)


2. Create a new column in the clean data worksheets to store the country name.

![**Figure 4**](img/country.png)

3.    Import the data into tableau and join import and export data by country, the steps are as follows:

* Open tableau and select microsoft excel under connect panel and select the file
![](img/import_data_tableau.png)
* Drag the sheets that need to be imported to the workspace one by one
![](img/import_data_tableau_1.png)
* Edit the relationship by typing country in both of the search bars
![](img/import_data_tableau_2.png)
* Click "Country1" and Country(T1-Clean(Export)), and the click **close**
![](img/import_data_tableau_3.png)
* Hide the unwanted column(s) that is not needed for the data preparation or analysis by clicking the small arrow beside the column name -> hide.
![](img/import_data_tableau_4.png)
* Now that the dataset is ready to be used, we can click the new empty sheet and start our visualisation

4. Create a text table by placing country on the rows shelves and monthly import data in columns and then click text table from show me.

![**Figure 6**](img/imp_cl_2.png)

The text table are shown in the figure below.

![**Figure 7**](img/imp_cl_3.png)
  

5. Pivot the data from crosstab format to columnar format by viewing the data in tableau. Click “Export All” and save it as excel file.

![**Figure 8**](img/view_data_1.png)

![**Figure 9**](img/view_data_2.png)

6. Split the measure names into two columns (year and month) by using excel for both import and export data. 

![**Figure 10**](img/split_date.png)

7. To create a date value in excel, convert the month names into number. Create a new column called “Date” in excel according to the year and month in measure name. 

![**Figure 11**](img/split_date_2.png)
8. Repeat step 4 to 7 for merchandise export data. Merge import, export, and total merchandise trade data in columnar format into one excel file to make it easier for importing the data into tableau.

![**Figure 12**](img/imp_exp_cln.png)
9. Import clean merchandise data into tableau and join both dataset by country and date (the step by step guide of importing the data can be seen in step 3).Select the merchandise trade data for top six trading countries that were mentioned in the original graph by using filter function in data source tab.

![**Figure 13**](img/clean_filter.png)
After clicking **add** in filters,click **Add** again in "edit data source filter" window. 

![**Figure 14**](img/clean_filter_3.png)
Select country -> **OK**. Select all the countries that we need for the analysis, by clicking the checkboxes in front of the country.

![**Figure 14**](img/clean_filter_4.png)
After the filter was applied, the top six merchandise trade data is ready to be used for the analysis.

10. The first visualisation will be using monthly import and export data for each country.
Drag export and import data to Rows shelf and drag country into colour.
![](img/line_vis.png)
click the small arrow in "Year" inside the column shelf, select month that is highlighted in blue.
![](img/line_vis1.png)
Right Click on X-axis to edit the date range
![](img/line_vis2.png)
Change the date range, title, and tick marks settings as per below

![](img/line_vis3.png)

![](img/line_vis4.png)


Right Click on the X-axis -> Format, to edit the label's and tick marks' font and colour.Change the tick mark colour to black, custom the data format to **mmm yy**, and choose **up** for the alignment.

![](img/line_vis5.png)

11. The second graph is to show which countries are net importer and which are net exporter

* Drag **Date** and **Export** to column shelf and drag **import** to row shelf
* Drag **Country** to Text and Detail, drag **Date** to Color

![](img/imp_exp_grf1.png)

* Hide the legend of the graph, by clicking the small arrow in the legend -> click **Hide Card**

![](img/imp_exp_grf2.png)


To create the 45 degree line, the steps are as follow:

* Drag **Import** to columns shelf -> Click the small arrow -> Dual Axis

![](img/imp_exp_grf3.png)

* Click **Sum(Import)** in the columns shelf and edit the components under marks shelf

* Remove **Country**(Text - SUM(Import)) from Marks shelf
![](img/imp_exp_grf5.png)

* Click **Color** in SUM(Import), change the opacity to 0%
![](img/imp_exp_grf4.png)

* Right click on the graph -> **Trend Lines** -> **Show Trend Lines** -> SUM(Import)

![](img/imp_exp_grf6.png)
* Change the axis range to fixed -> change **Fixed start** and **Fixed end**

![](img/imp_exp_grf7.png)


* Make sure all these 5 axis have same range

![](img/imp_exp_grf8.png)

* Change the format of the 45 degree line by double clicking -> Format

* Change the format of the trend line to dotted line

![](img/imp_exp_grf9.png)
* Hide the header for the top axis. Right click on the axis -> **Show Header**

![](img/imp_exp_grf10.png)


* Hide field labels for columns

![](img/imp_exp_grf11.png)

* Change the color of the graph by choosing color for SUM(Export) in Marks shelf -> choose the data item -> choose the color

![](img/imp_exp_grf12.png)


12. The third graph is to find the percentage change of total merchandise trade for each country for the year 2019 to 2020.
